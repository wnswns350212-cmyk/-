<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ëŒ€í•™ ì–¸ë¡ ë³´ë„ ìŠ¤í¬ë©</title>
<style>
body {
    font-family: "Noto Sans KR", sans-serif;
    background: #f4f6f9;
    padding: 30px;
}
h1 { margin-bottom: 20px; }

.controls {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-bottom: 20px;
}

input, select, button {
    padding: 8px 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
}

button {
    background: #2f5bea;
    color: white;
    border: none;
    cursor: pointer;
}

button.secondary {
    background: #6c757d;
}

.article {
    background: white;
    padding: 18px;
    border-radius: 10px;
    margin-bottom: 14px;
}

.meta {
    font-size: 13px;
    color: #666;
    margin-bottom: 6px;
}

a.source {
    display: inline-block;
    margin-top: 6px;
    font-size: 13px;
    color: #2f5bea;
    text-decoration: none;
}
</style>
</head>

<body>

<h1>ğŸ“° ëŒ€í•™ ì–¸ë¡ ë³´ë„ ìŠ¤í¬ë©</h1>

<form class="controls" method="get">
    <input name="query" placeholder="í‚¤ì›Œë“œ ê²€ìƒ‰" value="{{ query }}">

    <select name="category">
        <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
        {% for c in categories %}
        <option value="{{ c }}" {% if c == selected_category %}selected{% endif %}>{{ c }}</option>
        {% endfor %}
    </select>

    <button type="submit">ê²€ìƒ‰</button>

    <button type="submit" name="range" value="all" class="secondary">ì „ì²´</button>
    <button type="submit" name="range" value="24h" class="secondary">24ì‹œê°„</button>

    <button type="submit" name="scrap" value="1">
        ì–¸ë¡ ë³´ë„ ìŠ¤í¬ë© ìë™ ì‘ì„±
    </button>
</form>

{% for a in articles %}
<div class="article">
    <div class="meta">
        {{ a.category }} |
        {{ a.published_at.strftime("%Y.%m.%d %H:%M") }} |
        ì¡°íšŒìˆ˜ {{ a.views }}
    </div>
    <strong>{{ a.title }}</strong>
    <p>{{ a.summary }}</p>
    <a href="{{ a.url }}" target="_blank" class="source">[ì›ë³¸]</a>
</div>
{% endfor %}

{% if articles|length == 0 %}
<p>ì¡°ê±´ì— ë§ëŠ” ê¸°ì‚¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
{% endif %}

</body>
</html>
